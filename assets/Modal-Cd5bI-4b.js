import{j as y}from"./jsx-runtime-BjgbQsUx.js";import{B as X}from"./Button-DkDes1op.js";import{r as c,R as d}from"./index-BuYn5Wpo.js";import{s as $e,o as h,f as ke,x as U,a as Re,n as Le,b as V,c as A,d as Y,u as De,e as xe,K as P,y as O,l as oe,g as z,P as N,F,p as Pe,L as S,h as Ie,I as b,i as le,t as ae,T as J,j as ue,k as j,m as Me,q as Ne,R as Se,r as je,v as Oe,w as He,z as qe,A as ee,B as Be,X as Ae,O as te,H as Ye,C as ze,D as ie}from"./transition-CB1ZgauL.js";let Ue=c.createContext(()=>{});function Ve({value:e,children:t}){return d.createElement(Ue.Provider,{value:e},t)}function ce(e,t,n,r){let o=$e(n);c.useEffect(()=>{e=e??window;function u(i){o.current(i)}return e.addEventListener(t,u,r),()=>e.removeEventListener(t,u,r)},[e,t,r])}function _(e,t){let n=c.useRef([]),r=h(e);c.useEffect(()=>{let o=[...n.current];for(let[u,i]of t.entries())if(n.current[u]!==i){let a=r(t,o);return n.current=t,a}},[r,...t])}function _e(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let C=[];_e(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||C[0]===t.target)return;let n=t.target;n=n.closest(ke),C.unshift(n??t.target),C=C.filter(r=>r!=null&&r.isConnected),C.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Ke(e,t=typeof document<"u"?document.defaultView:null,n){let r=U(e,"escape");ce(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===Re.Escape&&n(o))})}function Ge(){var e;let[t]=c.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=c.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Le(()=>{if(!t)return;function o(u){r(u.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function We({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=V(n),o=h(()=>{var u,i;let a=[];for(let l of e)l!==null&&(l instanceof HTMLElement?a.push(l):"current"in l&&l.current instanceof HTMLElement&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(u=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?u:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((i=n==null?void 0:n.getRootNode())==null?void 0:i.host))||a.some(s=>l.contains(s))||a.push(l));return a});return{resolveContainers:o,contains:h(u=>o().some(i=>i.contains(u)))}}let se=c.createContext(null);function ne({children:e,node:t}){let[n,r]=c.useState(null),o=de(t??n);return d.createElement(se.Provider,{value:o},e,o===null&&d.createElement(A,{features:Y.Hidden,ref:u=>{var i,a;if(u){for(let l of(a=(i=De(u))==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(u)){r(l);break}}}}))}function de(e=null){var t;return(t=c.useContext(se))!=null?t:e}var M=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(M||{});function Ze(){let e=c.useRef(0);return xe(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function fe(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Qe="div";var L=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(L||{});function Xe(e,t){let n=c.useRef(null),r=O(n,t),{initialFocus:o,initialFocusFallback:u,containers:i,features:a=15,...l}=e;oe()||(a=0);let s=V(n);nt(a,{ownerDocument:s});let f=rt(a,{ownerDocument:s,container:n,initialFocus:o,initialFocusFallback:u});ot(a,{ownerDocument:s,container:n,containers:i,previousActiveElement:f});let D=Ze(),$=h(p=>{let T=n.current;T&&(v=>v())(()=>{z(D.current,{[M.Forwards]:()=>{N(T,F.First,{skipElements:[p.relatedTarget,u]})},[M.Backwards]:()=>{N(T,F.Last,{skipElements:[p.relatedTarget,u]})}})})}),E=U(!!(a&2),"focus-trap#tab-lock"),g=Pe(),k=c.useRef(!1),R={ref:r,onKeyDown(p){p.key=="Tab"&&(k.current=!0,g.requestAnimationFrame(()=>{k.current=!1}))},onBlur(p){if(!(a&4))return;let T=fe(i);n.current instanceof HTMLElement&&T.add(n.current);let v=p.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(me(T,v)||(k.current?N(n.current,z(D.current,{[M.Forwards]:()=>F.Next,[M.Backwards]:()=>F.Previous})|F.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&b(p.target)))}},w=S();return d.createElement(d.Fragment,null,E&&d.createElement(A,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:$,features:Y.Focusable}),w({ourProps:R,theirProps:l,defaultTag:Qe,name:"FocusTrap"}),E&&d.createElement(A,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:$,features:Y.Focusable}))}let Je=P(Xe),et=Object.assign(Je,{features:L});function tt(e=!0){let t=c.useRef(C.slice());return _(([n],[r])=>{r===!0&&n===!1&&ae(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=C.slice())},[e,C,t]),h(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function nt(e,{ownerDocument:t}){let n=!!(e&8),r=tt(n);_(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&b(r())},[n]),Ie(()=>{n&&b(r())})}function rt(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let u=c.useRef(null),i=U(!!(e&1),"focus-trap#initial-focus"),a=le();return _(()=>{if(e===0)return;if(!i){o!=null&&o.current&&b(o.current);return}let l=n.current;l&&ae(()=>{if(!a.current)return;let s=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===s){u.current=s;return}}else if(l.contains(s)){u.current=s;return}if(r!=null&&r.current)b(r.current);else{if(e&16){if(N(l,F.First|F.AutoFocus)!==J.Error)return}else if(N(l,F.First)!==J.Error)return;if(o!=null&&o.current&&(b(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=t==null?void 0:t.activeElement})},[o,i,e]),u}function ot(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let u=le(),i=!!(e&4);ce(t==null?void 0:t.defaultView,"focus",a=>{if(!i||!u.current)return;let l=fe(r);n.current instanceof HTMLElement&&l.add(n.current);let s=o.current;if(!s)return;let f=a.target;f&&f instanceof HTMLElement?me(l,f)?(o.current=f,b(f)):(a.preventDefault(),a.stopPropagation(),b(s)):b(o.current)},!0)}function me(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var lt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(lt||{}),at=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(at||{});let ut={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},K=c.createContext(null);K.displayName="DialogContext";function H(e){let t=c.useContext(K);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,H),n}return t}function it(e,t){return z(t.type,ut,e,t)}let re=P(function(e,t){let n=c.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:u,initialFocus:i,role:a="dialog",autoFocus:l=!0,__demoMode:s=!1,unmount:f=!1,...D}=e,$=c.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:($.current||($.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let E=ue();o===void 0&&E!==null&&(o=(E&j.Open)===j.Open);let g=c.useRef(null),k=O(g,t),R=V(g),w=o?0:1,[p,T]=c.useReducer(it,{titleId:null,descriptionId:null,panelRef:c.createRef()}),v=h(()=>u(!1)),G=h(m=>T({type:0,id:m})),x=oe()?w===0:!1,[ge,he]=Me(),Ee={get current(){var m;return(m=p.panelRef.current)!=null?m:g.current}},q=de(),{resolveContainers:B}=We({mainTreeNode:q,portals:ge,defaultContainers:[Ee]}),W=E!==null?(E&j.Closing)===j.Closing:!1;Ne(s||W?!1:x,{allowed:h(()=>{var m,Q;return[(Q=(m=g.current)==null?void 0:m.closest("[data-headlessui-portal]"))!=null?Q:null]}),disallowed:h(()=>{var m;return[(m=q==null?void 0:q.closest("body > *:not(#headlessui-portal-root)"))!=null?m:null]})}),Se(x,B,m=>{m.preventDefault(),v()}),Ke(x,R==null?void 0:R.defaultView,m=>{m.preventDefault(),m.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),v()}),je(s||W?!1:x,R,B),Oe(x,g,v);let[we,ye]=He(),be=c.useMemo(()=>[{dialogState:w,close:v,setTitleId:G,unmount:f},p],[w,p,v,G,f]),Z=c.useMemo(()=>({open:w===0}),[w]),Te={ref:k,id:r,role:a,tabIndex:-1,"aria-modal":s?void 0:w===0?!0:void 0,"aria-labelledby":p.titleId,"aria-describedby":we,unmount:f},Fe=!Ge(),I=L.None;x&&!s&&(I|=L.RestoreFocus,I|=L.TabLock,l&&(I|=L.AutoFocus),Fe&&(I|=L.InitialFocus));let Ce=S();return d.createElement(qe,null,d.createElement(ee,{force:!0},d.createElement(Be,null,d.createElement(K.Provider,{value:be},d.createElement(Ae,{target:g},d.createElement(ee,{force:!1},d.createElement(ye,{slot:Z},d.createElement(he,null,d.createElement(et,{initialFocus:i,initialFocusFallback:g,containers:B,features:I},d.createElement(Ve,{value:v},Ce({ourProps:Te,theirProps:D,slot:Z,defaultTag:ct,features:st,visible:w===0,name:"Dialog"})))))))))))}),ct="div",st=te.RenderStrategy|te.Static;function dt(e,t){let{transition:n=!1,open:r,...o}=e,u=ue(),i=e.hasOwnProperty("open")||u!==null,a=e.hasOwnProperty("onClose");if(!i&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!i)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?d.createElement(ne,null,d.createElement(ze,{show:r,transition:n,unmount:o.unmount},d.createElement(re,{ref:t,...o}))):d.createElement(ne,null,d.createElement(re,{ref:t,open:r,...o}))}let ft="div";function mt(e,t){let n=c.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...u}=e,[{dialogState:i,unmount:a},l]=H("Dialog.Panel"),s=O(t,l.panelRef),f=c.useMemo(()=>({open:i===0}),[i]),D=h(R=>{R.stopPropagation()}),$={ref:s,id:r,onClick:D},E=o?ie:c.Fragment,g=o?{unmount:a}:{},k=S();return d.createElement(E,{...g},k({ourProps:$,theirProps:u,slot:f,defaultTag:ft,name:"Dialog.Panel"}))}let pt="div";function vt(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:u}]=H("Dialog.Backdrop"),i=c.useMemo(()=>({open:o===0}),[o]),a={ref:t,"aria-hidden":!0},l=n?ie:c.Fragment,s=n?{unmount:u}:{},f=S();return d.createElement(l,{...s},f({ourProps:a,theirProps:r,slot:i,defaultTag:pt,name:"Dialog.Backdrop"}))}let gt="h2";function ht(e,t){let n=c.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:u,setTitleId:i}]=H("Dialog.Title"),a=O(t);c.useEffect(()=>(i(r),()=>i(null)),[r,i]);let l=c.useMemo(()=>({open:u===0}),[u]),s={ref:a,id:r};return S()({ourProps:s,theirProps:o,slot:l,defaultTag:gt,name:"Dialog.Title"})}let Et=P(dt),pe=P(mt);P(vt);let ve=P(ht),wt=Object.assign(Et,{Panel:pe,Title:ve,Description:Ye});var yt=(e=>(e[e.confirm=0]="confirm",e[e.cancel=1]="cancel",e[e.close=2]="close",e))(yt||{});function bt(e){return e.open?y.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-50 flex content-center justify-center",children:y.jsx(wt,{className:"relative z-50",open:!0,onClose:()=>e.onClose(2),children:y.jsx("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:y.jsxs(pe,{className:"space-y-4 border bg-white p-6 w-[480px]",children:[y.jsx(ve,{className:"font-bold",children:e.title}),e.children,y.jsx("hr",{}),y.jsxs("div",{className:"flex justify-end",children:[e.showCancel?y.jsx(X,{type:"cancel",onClick:()=>e.onClose(1),children:e.cancelContent??"cancel"}):null,e.showConfirm===!1?null:y.jsx(X,{onClick:()=>e.onClose(0),children:e.confirmContent??"confirm"})]})]})})})}):null}bt.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"(action: ModalAction) => void",signature:{arguments:[{type:{name:"ModalAction"},name:"action"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},title:{required:!1,tsType:{name:"ReactNode"},description:""},showCancel:{required:!1,tsType:{name:"boolean"},description:""},cancelContent:{required:!1,tsType:{name:"ReactNode"},description:""},showConfirm:{required:!1,tsType:{name:"boolean"},description:""},confirmContent:{required:!1,tsType:{name:"ReactNode"},description:""}}};export{bt as M,yt as a};
