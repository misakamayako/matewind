import{j as L}from"./jsx-runtime-BjgbQsUx.js";import{R as H,r as a,a as _n}from"./index-BuYn5Wpo.js";import{r as X}from"./index-D3Kh2uYK.js";import{p as Le,o as C,u as Xt,c as Jt,d as Zt,E as Vn,K as be,G as en,y as xe,n as te,L as ye,O as St,g as ge,R as Wn,J as Un,k as Be,U as Kn,_ as tn,b as zn,j as qn,M as Yn,v as Gn,r as Qn,q as Xn,N as Jn,B as Zn,s as eo,Q as to,S as no,V as oo,a as U,W as ro,F as $t,Y as io,C as lo}from"./transition-CB1ZgauL.js";import"./index-D2MAbzvX.js";import"./index-CTOC-uzv.js";const nn=typeof document<"u"?H.useLayoutEffect:()=>{};function so(e){const t=a.useRef(null);return nn(()=>{t.current=e},[e]),a.useCallback((...n)=>{const o=t.current;return o==null?void 0:o(...n)},[])}const Pe=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},ae=e=>e&&"window"in e&&e.window===e?e:Pe(e).defaultView||window;function ao(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function uo(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function on(e){let t=null;return()=>(t==null&&(t=e()),t)}const co=on(function(){return uo(/^Mac/i)}),fo=on(function(){return ao(/Android/i)});function po(e){return e.mozInputSource===0&&e.isTrusted?!0:fo()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class mo{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function rn(e){let t=a.useRef({isFocused:!1,observer:null});nn(()=>{const o=t.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let n=so(o=>{e==null||e(o)});return a.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=o.target,i=l=>{t.current.isFocused=!1,r.disabled&&n(new mo("blur",l)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let s=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function go(e){let{isDisabled:t,onFocus:n,onBlur:o,onFocusChange:r}=e;const i=a.useCallback(u=>{if(u.target===u.currentTarget)return o&&o(u),r&&r(!1),!0},[o,r]),l=rn(i),s=a.useCallback(u=>{const f=Pe(u.target);u.target===u.currentTarget&&f.activeElement===u.target&&(n&&n(u),r&&r(!0),l(u))},[r,n,l]);return{focusProps:{onFocus:!t&&(n||r||o)?s:void 0,onBlur:!t&&(o||r)?i:void 0}}}let Me=null,st=new Set,Te=new Map,ue=!1,at=!1;const vo={Tab:!0,Escape:!0};function gt(e,t){for(let n of st)n(e,t)}function ho(e){return!(e.metaKey||!co()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function je(e){ue=!0,ho(e)&&(Me="keyboard",gt("keyboard",e))}function Q(e){Me="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ue=!0,gt("pointer",e))}function ln(e){po(e)&&(ue=!0,Me="virtual")}function sn(e){e.target===window||e.target===document||(!ue&&!at&&(Me="virtual",gt("virtual",e)),ue=!1,at=!1)}function an(){ue=!1,at=!0}function ut(e){if(typeof window>"u"||Te.get(ae(e)))return;const t=ae(e),n=Pe(e);let o=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ue=!0,o.apply(this,arguments)},n.addEventListener("keydown",je,!0),n.addEventListener("keyup",je,!0),n.addEventListener("click",ln,!0),t.addEventListener("focus",sn,!0),t.addEventListener("blur",an,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Q,!0),n.addEventListener("pointermove",Q,!0),n.addEventListener("pointerup",Q,!0)):(n.addEventListener("mousedown",Q,!0),n.addEventListener("mousemove",Q,!0),n.addEventListener("mouseup",Q,!0)),t.addEventListener("beforeunload",()=>{un(e)},{once:!0}),Te.set(t,{focus:o})}const un=(e,t)=>{const n=ae(e),o=Pe(e);t&&o.removeEventListener("DOMContentLoaded",t),Te.has(n)&&(n.HTMLElement.prototype.focus=Te.get(n).focus,o.removeEventListener("keydown",je,!0),o.removeEventListener("keyup",je,!0),o.removeEventListener("click",ln,!0),n.removeEventListener("focus",sn,!0),n.removeEventListener("blur",an,!1),typeof PointerEvent<"u"?(o.removeEventListener("pointerdown",Q,!0),o.removeEventListener("pointermove",Q,!0),o.removeEventListener("pointerup",Q,!0)):(o.removeEventListener("mousedown",Q,!0),o.removeEventListener("mousemove",Q,!0),o.removeEventListener("mouseup",Q,!0)),Te.delete(n))};function bo(e){const t=Pe(e);let n;return t.readyState!=="loading"?ut(e):(n=()=>{ut(e)},t.addEventListener("DOMContentLoaded",n)),()=>un(e,n)}typeof document<"u"&&bo();function cn(){return Me!=="pointer"}const xo=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function yo(e,t,n){var o;const r=typeof window<"u"?ae(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?ae(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?ae(n==null?void 0:n.target).HTMLElement:HTMLElement,s=typeof window<"u"?ae(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof r&&!xo.has(n==null||(o=n.target)===null||o===void 0?void 0:o.type)||(n==null?void 0:n.target)instanceof i||(n==null?void 0:n.target)instanceof l&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof s&&!vo[n.key])}function wo(e,t,n){ut(),a.useEffect(()=>{let o=(r,i)=>{yo(!!(n!=null&&n.isTextInput),r,i)&&e(cn())};return st.add(o),()=>{st.delete(o)}},t)}function Eo(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:r}=e,i=a.useRef({isFocusWithin:!1}),l=a.useCallback(f=>{i.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(i.current.isFocusWithin=!1,n&&n(f),r&&r(!1))},[n,r,i]),s=rn(l),u=a.useCallback(f=>{!i.current.isFocusWithin&&document.activeElement===f.target&&(o&&o(f),r&&r(!0),i.current.isFocusWithin=!0,s(f))},[o,r,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let _e=!1,Ze=0;function ct(){_e=!0,setTimeout(()=>{_e=!1},50)}function Rt(e){e.pointerType==="touch"&&ct()}function So(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Rt):document.addEventListener("touchend",ct),Ze++,()=>{Ze--,!(Ze>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Rt):document.removeEventListener("touchend",ct))}}function $o(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:o,isDisabled:r}=e,[i,l]=a.useState(!1),s=a.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;a.useEffect(So,[]);let{hoverProps:u,triggerHoverEnd:f}=a.useMemo(()=>{let c=(d,p)=>{if(s.pointerType=p,r||p==="touch"||s.isHovered||!d.currentTarget.contains(d.target))return;s.isHovered=!0;let v=d.currentTarget;s.target=v,t&&t({type:"hoverstart",target:v,pointerType:p}),n&&n(!0),l(!0)},m=(d,p)=>{if(s.pointerType="",s.target=null,p==="touch"||!s.isHovered)return;s.isHovered=!1;let v=d.currentTarget;o&&o({type:"hoverend",target:v,pointerType:p}),n&&n(!1),l(!1)},g={};return typeof PointerEvent<"u"?(g.onPointerEnter=d=>{_e&&d.pointerType==="mouse"||c(d,d.pointerType)},g.onPointerLeave=d=>{!r&&d.currentTarget.contains(d.target)&&m(d,d.pointerType)}):(g.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},g.onMouseEnter=d=>{!s.ignoreEmulatedMouseEvents&&!_e&&c(d,"mouse"),s.ignoreEmulatedMouseEvents=!1},g.onMouseLeave=d=>{!r&&d.currentTarget.contains(d.target)&&m(d,"mouse")}),{hoverProps:g,triggerHoverEnd:m}},[t,n,o,r,s]);return a.useEffect(()=>{r&&f({currentTarget:s.target},s.pointerType)},[r]),{hoverProps:u,isHovered:i}}function Ro(e={}){let{autoFocus:t=!1,isTextInput:n,within:o}=e,r=a.useRef({isFocused:!1,isFocusVisible:t||cn()}),[i,l]=a.useState(!1),[s,u]=a.useState(()=>r.current.isFocused&&r.current.isFocusVisible),f=a.useCallback(()=>u(r.current.isFocused&&r.current.isFocusVisible),[]),c=a.useCallback(d=>{r.current.isFocused=d,l(d),f()},[f]);wo(d=>{r.current.isFocusVisible=d,f()},[],{isTextInput:n});let{focusProps:m}=go({isDisabled:o,onFocusChange:c}),{focusWithinProps:g}=Eo({isDisabled:!o,onFocusWithinChange:c});return{isFocused:i,isFocusVisible:s,focusProps:o?g:m}}function Oo(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function To(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Co({disabled:e=!1}={}){let t=a.useRef(null),[n,o]=a.useState(!1),r=Le(),i=C(()=>{t.current=null,o(!1),r.dispose()}),l=C(s=>{if(r.dispose(),t.current===null){t.current=s.currentTarget,o(!0);{let u=Xt(s.currentTarget);r.addEventListener(u,"pointerup",i,!1),r.addEventListener(u,"pointermove",f=>{if(t.current){let c=Oo(f);o(To(c,t.current.getBoundingClientRect()))}},!1),r.addEventListener(u,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:i,onClick:i}}}function Fo(e,t,n){let[o,r]=a.useState(n),i=e!==void 0,l=a.useRef(i),s=a.useRef(!1),u=a.useRef(!1);return i&&!l.current&&!s.current?(s.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!u.current&&(u.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:o,C(f=>(i||r(f),t==null?void 0:t(f)))]}function Lo(e){let[t]=a.useState(e);return t}function fn(e={},t=null,n=[]){for(let[o,r]of Object.entries(e))pn(n,dn(t,o),r);return n}function dn(e,t){return e?e+"["+t+"]":t}function pn(e,t,n){if(Array.isArray(n))for(let[o,r]of n.entries())pn(e,dn(t,o.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):fn(n,t,e)}function Po(e){var t,n;let o=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(o){for(let r of o.elements)if(r!==e&&(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image")){r.click();return}(n=o.requestSubmit)==null||n.call(o)}}let Mo=a.createContext(null);function Ao({children:e}){let t=a.useContext(Mo);if(!t)return H.createElement(H.Fragment,null,e);let{target:n}=t;return n?X.createPortal(H.createElement(H.Fragment,null,e),n):null}function Do({data:e,form:t,disabled:n,onReset:o,overrides:r}){let[i,l]=a.useState(null),s=Le();return a.useEffect(()=>{if(o&&i)return s.addEventListener(i,"reset",o)},[i,t,o]),H.createElement(Ao,null,H.createElement(Io,{setForm:l,formId:t}),fn(e).map(([u,f])=>H.createElement(Jt,{features:Zt.Hidden,...Vn({key:u,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:u,value:f,...r})})))}function Io({setForm:e,formId:t}){return a.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:H.createElement(Jt,{features:Zt.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let o=n.closest("form");o&&e(o)}})}let ko=a.createContext(void 0);function mn(){return a.useContext(ko)}function Ho(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let o=(t==null?void 0:t.getAttribute("disabled"))==="";return o&&No(n)?!1:o}function No(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let Ke=a.createContext(null);Ke.displayName="LabelContext";function gn(){let e=a.useContext(Ke);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,gn),t}return e}function vn(e){var t,n,o;let r=(n=(t=a.useContext(Ke))==null?void 0:t.value)!=null?n:void 0;return((o=e==null?void 0:e.length)!=null?o:0)>0?[r,...e].filter(Boolean).join(" "):r}function Bo({inherit:e=!1}={}){let t=vn(),[n,o]=a.useState([]),r=e?[t,...n].filter(Boolean):n;return[r.length>0?r.join(" "):void 0,a.useMemo(()=>function(i){let l=C(u=>(o(f=>[...f,u]),()=>o(f=>{let c=f.slice(),m=c.indexOf(u);return m!==-1&&c.splice(m,1),c}))),s=a.useMemo(()=>({register:l,slot:i.slot,name:i.name,props:i.props,value:i.value}),[l,i.slot,i.name,i.props,i.value]);return H.createElement(Ke.Provider,{value:s},i.children)},[o])]}let jo="label";function _o(e,t){var n;let o=a.useId(),r=gn(),i=mn(),l=en(),{id:s=`headlessui-label-${o}`,htmlFor:u=i??((n=r.props)==null?void 0:n.htmlFor),passive:f=!1,...c}=e,m=xe(t);te(()=>r.register(s),[s,r.register]);let g=C(b=>{let y=b.currentTarget;if(y instanceof HTMLLabelElement&&b.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(b),y instanceof HTMLLabelElement){let x=document.getElementById(y.htmlFor);if(x){let h=x.getAttribute("disabled");if(h==="true"||h==="")return;let E=x.getAttribute("aria-disabled");if(E==="true"||E==="")return;(x instanceof HTMLInputElement&&(x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),d=l||!1,p=a.useMemo(()=>({...r.slot,disabled:d}),[r.slot,d]),v={ref:m,...r.props,id:s,htmlFor:u,onClick:g};return f&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in c&&delete c.onClick),ye()({ourProps:v,theirProps:c,slot:p,defaultTag:u?jo:"div",name:r.name||"Label"})}let Vo=be(_o),Wo=Object.assign(Vo,{});function Uo(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Ko(e=Uo){return a.useCallback((t,n)=>{if(typeof e=="string"){let o=e;return(t==null?void 0:t[o])===(n==null?void 0:n[o])}return e(t,n)},[e])}function zo(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function qo(e,t=!1){let[n,o]=a.useReducer(()=>({}),{}),r=a.useMemo(()=>zo(e),[e,n]);return te(()=>{if(!e)return;let i=new ResizeObserver(o);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${r.width}px`,height:`${r.height}px`}:r}function Yo(e,t){return a.useMemo(()=>{var n;if(e.type)return e.type;let o=(n=e.as)!=null?n:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Ot(e){return[e.screenX,e.screenY]}function Go(){let e=a.useRef([-1,-1]);return{wasMoved(t){let n=Ot(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Ot(t)}}}function ze(){return typeof window<"u"}function we(e){return hn(e)?(e.nodeName||"").toLowerCase():"#document"}function Y(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oe(e){var t;return(t=(hn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hn(e){return ze()?e instanceof Node||e instanceof Y(e).Node:!1}function z(e){return ze()?e instanceof Element||e instanceof Y(e).Element:!1}function ne(e){return ze()?e instanceof HTMLElement||e instanceof Y(e).HTMLElement:!1}function Tt(e){return!ze()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Y(e).ShadowRoot}function Ae(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=J(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function Qo(e){return["table","td","th"].includes(we(e))}function qe(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vt(e){const t=ht(),n=z(e)?J(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Xo(e){let t=ie(e);for(;ne(t)&&!he(t);){if(vt(t))return t;if(qe(t))return null;t=ie(t)}return null}function ht(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function he(e){return["html","body","#document"].includes(we(e))}function J(e){return Y(e).getComputedStyle(e)}function Ye(e){return z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ie(e){if(we(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tt(e)&&e.host||oe(e);return Tt(t)?t.host:t}function bn(e){const t=ie(e);return he(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&Ae(t)?t:bn(t)}function Ce(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=bn(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),l=Y(r);if(i){const s=ft(l);return t.concat(l,l.visualViewport||[],Ae(r)?r:[],s&&n?Ce(s):[])}return t.concat(r,Ce(r,[],n))}function ft(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jo(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const ce=Math.min,K=Math.max,Fe=Math.round,He=Math.floor,ee=e=>({x:e,y:e}),Zo={left:"right",right:"left",bottom:"top",top:"bottom"},er={start:"end",end:"start"};function Ct(e,t,n){return K(e,ce(t,n))}function Ee(e,t){return typeof e=="function"?e(t):e}function le(e){return e.split("-")[0]}function De(e){return e.split("-")[1]}function xn(e){return e==="x"?"y":"x"}function yn(e){return e==="y"?"height":"width"}function fe(e){return["top","bottom"].includes(le(e))?"y":"x"}function wn(e){return xn(fe(e))}function tr(e,t,n){n===void 0&&(n=!1);const o=De(e),r=wn(e),i=yn(r);let l=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Ve(l)),[l,Ve(l)]}function nr(e){const t=Ve(e);return[dt(e),t,dt(t)]}function dt(e){return e.replace(/start|end/g,t=>er[t])}function or(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:l;default:return[]}}function rr(e,t,n,o){const r=De(e);let i=or(le(e),n==="start",o);return r&&(i=i.map(l=>l+"-"+r),t&&(i=i.concat(i.map(dt)))),i}function Ve(e){return e.replace(/left|right|bottom|top/g,t=>Zo[t])}function ir(e){return{top:0,right:0,bottom:0,left:0,...e}}function lr(e){return typeof e!="number"?ir(e):{top:e,right:e,bottom:e,left:e}}function We(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function Ft(e,t,n){let{reference:o,floating:r}=e;const i=fe(t),l=wn(t),s=yn(l),u=le(t),f=i==="y",c=o.x+o.width/2-r.width/2,m=o.y+o.height/2-r.height/2,g=o[s]/2-r[s]/2;let d;switch(u){case"top":d={x:c,y:o.y-r.height};break;case"bottom":d={x:c,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:m};break;case"left":d={x:o.x-r.width,y:m};break;default:d={x:o.x,y:o.y}}switch(De(t)){case"start":d[l]-=g*(n&&f?-1:1);break;case"end":d[l]+=g*(n&&f?-1:1);break}return d}const sr=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:l}=n,s=i.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:m}=Ft(f,o,u),g=o,d={},p=0;for(let v=0;v<s.length;v++){const{name:b,fn:y}=s[v],{x,y:h,data:E,reset:S}=await y({x:c,y:m,initialPlacement:o,placement:g,strategy:r,middlewareData:d,rects:f,platform:l,elements:{reference:e,floating:t}});c=x??c,m=h??m,d={...d,[b]:{...d[b],...E}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(f=S.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:r}):S.rects),{x:c,y:m}=Ft(f,g,u)),v=-1)}return{x:c,y:m,placement:g,strategy:r,middlewareData:d}};async function Ge(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:l,elements:s,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:c="viewport",elementContext:m="floating",altBoundary:g=!1,padding:d=0}=Ee(t,e),p=lr(d),b=s[g?m==="floating"?"reference":"floating":m],y=We(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:f,rootBoundary:c,strategy:u})),x=m==="floating"?{x:o,y:r,width:l.floating.width,height:l.floating.height}:l.reference,h=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),E=await(i.isElement==null?void 0:i.isElement(h))?await(i.getScale==null?void 0:i.getScale(h))||{x:1,y:1}:{x:1,y:1},S=We(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:h,strategy:u}):x);return{top:(y.top-S.top+p.top)/E.y,bottom:(S.bottom-y.bottom+p.bottom)/E.y,left:(y.left-S.left+p.left)/E.x,right:(S.right-y.right+p.right)/E.x}}const ar=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:l,initialPlacement:s,platform:u,elements:f}=t,{mainAxis:c=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...b}=Ee(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=le(r),x=fe(s),h=le(s)===s,E=await(u.isRTL==null?void 0:u.isRTL(f.floating)),S=g||(h||!v?[Ve(s)]:nr(s)),$=p!=="none";!g&&$&&S.push(...rr(s,v,p,E));const P=[s,...S],A=await Ge(t,b),R=[];let F=((o=i.flip)==null?void 0:o.overflows)||[];if(c&&R.push(A[y]),m){const I=tr(r,l,E);R.push(A[I[0]],A[I[1]])}if(F=[...F,{placement:r,overflows:R}],!R.every(I=>I<=0)){var w,N;const I=(((w=i.flip)==null?void 0:w.index)||0)+1,G=P[I];if(G)return{data:{index:I,overflows:F},reset:{placement:G}};let k=(N=F.filter(V=>V.overflows[0]<=0).sort((V,T)=>V.overflows[1]-T.overflows[1])[0])==null?void 0:N.placement;if(!k)switch(d){case"bestFit":{var B;const V=(B=F.filter(T=>{if($){const M=fe(T.placement);return M===x||M==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(M=>M>0).reduce((M,j)=>M+j,0)]).sort((T,M)=>T[1]-M[1])[0])==null?void 0:B[0];V&&(k=V);break}case"initialPlacement":k=s;break}if(r!==k)return{reset:{placement:k}}}return{}}}};async function ur(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),l=le(n),s=De(n),u=fe(n)==="y",f=["left","top"].includes(l)?-1:1,c=i&&u?-1:1,m=Ee(t,e);let{mainAxis:g,crossAxis:d,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return s&&typeof p=="number"&&(d=s==="end"?p*-1:p),u?{x:d*c,y:g*f}:{x:g*f,y:d*c}}const cr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:l,middlewareData:s}=t,u=await ur(t,e);return l===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:r+u.x,y:i+u.y,data:{...u,placement:l}}}}},fr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:s={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...u}=Ee(e,t),f={x:n,y:o},c=await Ge(t,u),m=fe(le(r)),g=xn(m);let d=f[g],p=f[m];if(i){const b=g==="y"?"top":"left",y=g==="y"?"bottom":"right",x=d+c[b],h=d-c[y];d=Ct(x,d,h)}if(l){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=p+c[b],h=p-c[y];p=Ct(x,p,h)}const v=s.fn({...t,[g]:d,[m]:p});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[g]:i,[m]:l}}}}}},dr=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:i,platform:l,elements:s}=t,{apply:u=()=>{},...f}=Ee(e,t),c=await Ge(t,f),m=le(r),g=De(r),d=fe(r)==="y",{width:p,height:v}=i.floating;let b,y;m==="top"||m==="bottom"?(b=m,y=g===(await(l.isRTL==null?void 0:l.isRTL(s.floating))?"start":"end")?"left":"right"):(y=m,b=g==="end"?"top":"bottom");const x=v-c.top-c.bottom,h=p-c.left-c.right,E=ce(v-c[b],x),S=ce(p-c[y],h),$=!t.middlewareData.shift;let P=E,A=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=h),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(P=x),$&&!g){const F=K(c.left,0),w=K(c.right,0),N=K(c.top,0),B=K(c.bottom,0);d?A=p-2*(F!==0||w!==0?F+w:K(c.left,c.right)):P=v-2*(N!==0||B!==0?N+B:K(c.top,c.bottom))}await u({...t,availableWidth:A,availableHeight:P});const R=await l.getDimensions(s.floating);return p!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function En(e){const t=J(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=ne(e),i=r?e.offsetWidth:n,l=r?e.offsetHeight:o,s=Fe(n)!==i||Fe(o)!==l;return s&&(n=i,o=l),{width:n,height:o,$:s}}function bt(e){return z(e)?e:e.contextElement}function ve(e){const t=bt(e);if(!ne(t))return ee(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=En(t);let l=(i?Fe(n.width):n.width)/o,s=(i?Fe(n.height):n.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const pr=ee(0);function Sn(e){const t=Y(e);return!ht()||!t.visualViewport?pr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Y(e)?!1:t}function de(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=bt(e);let l=ee(1);t&&(o?z(o)&&(l=ve(o)):l=ve(e));const s=mr(i,n,o)?Sn(i):ee(0);let u=(r.left+s.x)/l.x,f=(r.top+s.y)/l.y,c=r.width/l.x,m=r.height/l.y;if(i){const g=Y(i),d=o&&z(o)?Y(o):o;let p=g,v=ft(p);for(;v&&o&&d!==p;){const b=ve(v),y=v.getBoundingClientRect(),x=J(v),h=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,E=y.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;u*=b.x,f*=b.y,c*=b.x,m*=b.y,u+=h,f+=E,p=Y(v),v=ft(p)}}return We({width:c,height:m,x:u,y:f})}function xt(e,t){const n=Ye(e).scrollLeft;return t?t.left+n:de(oe(e)).left+n}function $n(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),r=o.left+t.scrollLeft-(n?0:xt(e,o)),i=o.top+t.scrollTop;return{x:r,y:i}}function gr(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",l=oe(o),s=t?qe(t.floating):!1;if(o===l||s&&i)return n;let u={scrollLeft:0,scrollTop:0},f=ee(1);const c=ee(0),m=ne(o);if((m||!m&&!i)&&((we(o)!=="body"||Ae(l))&&(u=Ye(o)),ne(o))){const d=de(o);f=ve(o),c.x=d.x+o.clientLeft,c.y=d.y+o.clientTop}const g=l&&!m&&!i?$n(l,u,!0):ee(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+c.x+g.x,y:n.y*f.y-u.scrollTop*f.y+c.y+g.y}}function vr(e){return Array.from(e.getClientRects())}function hr(e){const t=oe(e),n=Ye(e),o=e.ownerDocument.body,r=K(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=K(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+xt(e);const s=-n.scrollTop;return J(o).direction==="rtl"&&(l+=K(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:l,y:s}}function br(e,t){const n=Y(e),o=oe(e),r=n.visualViewport;let i=o.clientWidth,l=o.clientHeight,s=0,u=0;if(r){i=r.width,l=r.height;const f=ht();(!f||f&&t==="fixed")&&(s=r.offsetLeft,u=r.offsetTop)}return{width:i,height:l,x:s,y:u}}function xr(e,t){const n=de(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=ne(e)?ve(e):ee(1),l=e.clientWidth*i.x,s=e.clientHeight*i.y,u=r*i.x,f=o*i.y;return{width:l,height:s,x:u,y:f}}function Lt(e,t,n){let o;if(t==="viewport")o=br(e,n);else if(t==="document")o=hr(oe(e));else if(z(t))o=xr(t,n);else{const r=Sn(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return We(o)}function Rn(e,t){const n=ie(e);return n===t||!z(n)||he(n)?!1:J(n).position==="fixed"||Rn(n,t)}function yr(e,t){const n=t.get(e);if(n)return n;let o=Ce(e,[],!1).filter(s=>z(s)&&we(s)!=="body"),r=null;const i=J(e).position==="fixed";let l=i?ie(e):e;for(;z(l)&&!he(l);){const s=J(l),u=vt(l);!u&&s.position==="fixed"&&(r=null),(i?!u&&!r:!u&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ae(l)&&!u&&Rn(e,l))?o=o.filter(c=>c!==l):r=s,l=ie(l)}return t.set(e,o),o}function wr(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const l=[...n==="clippingAncestors"?qe(t)?[]:yr(t,this._c):[].concat(n),o],s=l[0],u=l.reduce((f,c)=>{const m=Lt(t,c,r);return f.top=K(m.top,f.top),f.right=ce(m.right,f.right),f.bottom=ce(m.bottom,f.bottom),f.left=K(m.left,f.left),f},Lt(t,s,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Er(e){const{width:t,height:n}=En(e);return{width:t,height:n}}function Sr(e,t,n){const o=ne(t),r=oe(t),i=n==="fixed",l=de(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const u=ee(0);if(o||!o&&!i)if((we(t)!=="body"||Ae(r))&&(s=Ye(t)),o){const g=de(t,!0,i,t);u.x=g.x+t.clientLeft,u.y=g.y+t.clientTop}else r&&(u.x=xt(r));const f=r&&!o&&!i?$n(r,s):ee(0),c=l.left+s.scrollLeft-u.x-f.x,m=l.top+s.scrollTop-u.y-f.y;return{x:c,y:m,width:l.width,height:l.height}}function et(e){return J(e).position==="static"}function Pt(e,t){if(!ne(e)||J(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return oe(e)===n&&(n=n.ownerDocument.body),n}function On(e,t){const n=Y(e);if(qe(e))return n;if(!ne(e)){let r=ie(e);for(;r&&!he(r);){if(z(r)&&!et(r))return r;r=ie(r)}return n}let o=Pt(e,t);for(;o&&Qo(o)&&et(o);)o=Pt(o,t);return o&&he(o)&&et(o)&&!vt(o)?n:o||Xo(e)||n}const $r=async function(e){const t=this.getOffsetParent||On,n=this.getDimensions,o=await n(e.floating);return{reference:Sr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Rr(e){return J(e).direction==="rtl"}const Or={convertOffsetParentRelativeRectToViewportRelativeRect:gr,getDocumentElement:oe,getClippingRect:wr,getOffsetParent:On,getElementRects:$r,getClientRects:vr,getDimensions:Er,getScale:ve,isElement:z,isRTL:Rr};function Tr(e,t){let n=null,o;const r=oe(e);function i(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function l(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),i();const{left:f,top:c,width:m,height:g}=e.getBoundingClientRect();if(s||t(),!m||!g)return;const d=He(c),p=He(r.clientWidth-(f+m)),v=He(r.clientHeight-(c+g)),b=He(f),x={rootMargin:-d+"px "+-p+"px "+-v+"px "+-b+"px",threshold:K(0,ce(1,u))||1};let h=!0;function E(S){const $=S[0].intersectionRatio;if($!==u){if(!h)return l();$?l(!1,$):o=setTimeout(()=>{l(!1,1e-7)},1e3)}h=!1}try{n=new IntersectionObserver(E,{...x,root:r.ownerDocument})}catch{n=new IntersectionObserver(E,x)}n.observe(e)}return l(!0),i}function Cr(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,f=bt(e),c=r||i?[...f?Ce(f):[],...Ce(t)]:[];c.forEach(y=>{r&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const m=f&&s?Tr(f,n):null;let g=-1,d=null;l&&(d=new ResizeObserver(y=>{let[x]=y;x&&x.target===f&&d&&(d.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var h;(h=d)==null||h.observe(t)})),n()}),f&&!u&&d.observe(f),d.observe(t));let p,v=u?de(e):null;u&&b();function b(){const y=de(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&n(),v=y,p=requestAnimationFrame(b)}return n(),()=>{var y;c.forEach(x=>{r&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),m==null||m(),(y=d)==null||y.disconnect(),d=null,u&&cancelAnimationFrame(p)}}const tt=Ge,Fr=cr,Lr=fr,Pr=ar,Mr=dr,Ar=(e,t,n)=>{const o=new Map,r={platform:Or,...n},i={...r.platform,_c:o};return sr(e,t,{...r,platform:i})};var Ne=typeof document<"u"?a.useLayoutEffect:a.useEffect;function Ue(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Ue(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!Ue(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Tn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mt(e,t){const n=Tn(e);return Math.round(t*n)/n}function nt(e){const t=a.useRef(e);return Ne(()=>{t.current=e}),t}function Dr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:l}={},transform:s=!0,whileElementsMounted:u,open:f}=e,[c,m]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,d]=a.useState(o);Ue(g,o)||d(o);const[p,v]=a.useState(null),[b,y]=a.useState(null),x=a.useCallback(T=>{T!==$.current&&($.current=T,v(T))},[]),h=a.useCallback(T=>{T!==P.current&&(P.current=T,y(T))},[]),E=i||p,S=l||b,$=a.useRef(null),P=a.useRef(null),A=a.useRef(c),R=u!=null,F=nt(u),w=nt(r),N=nt(f),B=a.useCallback(()=>{if(!$.current||!P.current)return;const T={placement:t,strategy:n,middleware:g};w.current&&(T.platform=w.current),Ar($.current,P.current,T).then(M=>{const j={...M,isPositioned:N.current!==!1};I.current&&!Ue(A.current,j)&&(A.current=j,X.flushSync(()=>{m(j)}))})},[g,t,n,w,N]);Ne(()=>{f===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(T=>({...T,isPositioned:!1})))},[f]);const I=a.useRef(!1);Ne(()=>(I.current=!0,()=>{I.current=!1}),[]),Ne(()=>{if(E&&($.current=E),S&&(P.current=S),E&&S){if(F.current)return F.current(E,S,B);B()}},[E,S,B,F,R]);const G=a.useMemo(()=>({reference:$,floating:P,setReference:x,setFloating:h}),[x,h]),k=a.useMemo(()=>({reference:E,floating:S}),[E,S]),V=a.useMemo(()=>{const T={position:n,left:0,top:0};if(!k.floating)return T;const M=Mt(k.floating,c.x),j=Mt(k.floating,c.y);return s?{...T,transform:"translate("+M+"px, "+j+"px)",...Tn(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:j}},[n,s,k.floating,c.x,c.y]);return a.useMemo(()=>({...c,update:B,refs:G,elements:k,floatingStyles:V}),[c,B,G,k,V])}const Cn=(e,t)=>({...Fr(e),options:[e,t]}),Ir=(e,t)=>({...Lr(e),options:[e,t]}),kr=(e,t)=>({...Pr(e),options:[e,t]}),Hr=(e,t)=>({...Mr(e),options:[e,t]}),Fn={..._n},Nr=Fn.useInsertionEffect,Br=Nr||(e=>e());function Ln(e){const t=a.useRef(()=>{});return Br(()=>{t.current=e}),a.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var pt=typeof document<"u"?a.useLayoutEffect:a.useEffect;let At=!1,jr=0;const Dt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+jr++;function _r(){const[e,t]=a.useState(()=>At?Dt():void 0);return pt(()=>{e==null&&t(Dt())},[]),a.useEffect(()=>{At=!0},[]),e}const Vr=Fn.useId,Wr=Vr||_r;function Ur(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const Kr=a.createContext(null),zr=a.createContext(null),qr=()=>{var e;return((e=a.useContext(Kr))==null?void 0:e.id)||null},Yr=()=>a.useContext(zr),Gr="data-floating-ui-focusable";function Qr(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=Wr(),i=a.useRef({}),[l]=a.useState(()=>Ur()),s=qr()!=null,[u,f]=a.useState(o.reference),c=Ln((d,p,v)=>{i.current.openEvent=d?p:void 0,l.emit("openchange",{open:d,event:p,reason:v,nested:s}),n==null||n(d,p,v)}),m=a.useMemo(()=>({setPositionReference:f}),[]),g=a.useMemo(()=>({reference:u||o.reference||null,floating:o.floating||null,domReference:o.reference}),[u,o.reference,o.floating]);return a.useMemo(()=>({dataRef:i,open:t,onOpenChange:c,elements:g,events:l,floatingId:r,refs:m}),[t,c,g,l,r,m])}function Xr(e){e===void 0&&(e={});const{nodeId:t}=e,n=Qr({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[i,l]=a.useState(null),[s,u]=a.useState(null),c=(r==null?void 0:r.domReference)||i,m=a.useRef(null),g=Yr();pt(()=>{c&&(m.current=c)},[c]);const d=Dr({...e,elements:{...r,...s&&{reference:s}}}),p=a.useCallback(h=>{const E=z(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;u(E),d.refs.setReference(E)},[d.refs]),v=a.useCallback(h=>{(z(h)||h===null)&&(m.current=h,l(h)),(z(d.refs.reference.current)||d.refs.reference.current===null||h!==null&&!z(h))&&d.refs.setReference(h)},[d.refs]),b=a.useMemo(()=>({...d.refs,setReference:v,setPositionReference:p,domReference:m}),[d.refs,v,p]),y=a.useMemo(()=>({...d.elements,domReference:c}),[d.elements,c]),x=a.useMemo(()=>({...d,...o,refs:b,elements:y,nodeId:t}),[d,b,y,t,o]);return pt(()=>{o.dataRef.current.floatingContext=x;const h=g==null?void 0:g.nodesRef.current.find(E=>E.id===t);h&&(h.context=x)}),a.useMemo(()=>({...d,context:x,refs:b,elements:y}),[d,b,y,x])}const It="active",kt="selected";function ot(e,t,n){const o=new Map,r=n==="item";let i=e;if(r&&e){const{[It]:l,[kt]:s,...u}=e;i=u}return{...n==="floating"&&{tabIndex:-1,[Gr]:""},...i,...t.map(l=>{const s=l?l[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((l,s)=>(s&&Object.entries(s).forEach(u=>{let[f,c]=u;if(!(r&&[It,kt].includes(f)))if(f.indexOf("on")===0){if(o.has(f)||o.set(f,[]),typeof c=="function"){var m;(m=o.get(f))==null||m.push(c),l[f]=function(){for(var g,d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return(g=o.get(f))==null?void 0:g.map(b=>b(...p)).find(b=>b!==void 0)}}}else l[f]=c}),l),{})}}function Jr(e){e===void 0&&(e=[]);const t=e.map(s=>s==null?void 0:s.reference),n=e.map(s=>s==null?void 0:s.floating),o=e.map(s=>s==null?void 0:s.item),r=a.useCallback(s=>ot(s,e,"reference"),t),i=a.useCallback(s=>ot(s,e,"floating"),n),l=a.useCallback(s=>ot(s,e,"item"),o);return a.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:l}),[r,i,l])}function Ht(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Zr=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:i=0,index:l=0,minItemsVisible:s=4,referenceOverflowThreshold:u=0,scrollRef:f,...c}=Ee(e,t),{rects:m,elements:{floating:g}}=t,d=n.current[l],p=(f==null?void 0:f.current)||g,v=g.clientTop||p.clientTop,b=g.clientTop!==0,y=p.clientTop!==0,x=g===p;if(!d)return{};const h={...t,...await Cn(-d.offsetTop-g.clientTop-m.reference.height/2-d.offsetHeight/2-i).fn(t)},E=await tt(Ht(h,p.scrollHeight+v+g.clientTop),c),S=await tt(h,{...c,elementContext:"reference"}),$=K(0,E.top),P=h.y+$,F=(p.scrollHeight>p.clientHeight?w=>w:Fe)(K(0,p.scrollHeight+(b&&x||y?v*2:0)-$-K(0,E.bottom)));if(p.style.maxHeight=F+"px",p.scrollTop=$,r){const w=p.offsetHeight<d.offsetHeight*ce(s,n.current.length)-1||S.top>=-u||S.bottom>=-u;X.flushSync(()=>r(w))}return o&&(o.current=await tt(Ht({...h,y:P},p.offsetHeight+v+g.clientTop),c)),{y:P}}});function ei(e,t){const{open:n,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:l,onChange:s}=t,u=Ln(s),f=a.useRef(!1),c=a.useRef(null),m=a.useRef(null);a.useEffect(()=>{if(!r)return;function d(v){if(v.ctrlKey||!p||i.current==null)return;const b=v.deltaY,y=i.current.top>=-.5,x=i.current.bottom>=-.5,h=p.scrollHeight-p.clientHeight,E=b<0?-1:1,S=b<0?"max":"min";p.scrollHeight<=p.clientHeight||(!y&&b>0||!x&&b<0?(v.preventDefault(),X.flushSync(()=>{u($=>$+Math[S](b,h*E))})):/firefox/i.test(Jo())&&(p.scrollTop+=b))}const p=(l==null?void 0:l.current)||o.floating;if(n&&p)return p.addEventListener("wheel",d),requestAnimationFrame(()=>{c.current=p.scrollTop,i.current!=null&&(m.current={...i.current})}),()=>{c.current=null,m.current=null,p.removeEventListener("wheel",d)}},[r,n,o.floating,i,l,u]);const g=a.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const d=(l==null?void 0:l.current)||o.floating;if(!(!i.current||!d||!f.current)){if(c.current!==null){const p=d.scrollTop-c.current;(i.current.bottom<-.5&&p<-1||i.current.top<-.5&&p>1)&&X.flushSync(()=>u(v=>v+p))}requestAnimationFrame(()=>{c.current=d.scrollTop})}}}),[o.floating,u,i,l]);return a.useMemo(()=>r?{floating:g}:{},[r,g])}let Se=a.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Se.displayName="FloatingContext";let yt=a.createContext(null);yt.displayName="PlacementContext";function ti(e){return a.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function ni(){return a.useContext(Se).setReference}function oi(){return a.useContext(Se).getReferenceProps}function ri(){let{getFloatingProps:e,slot:t}=a.useContext(Se);return a.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function ii(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=a.useContext(yt),n=a.useMemo(()=>e,[JSON.stringify(e,(r,i)=>{var l;return(l=i==null?void 0:i.outerHTML)!=null?l:i})]);te(()=>{t==null||t(n??null)},[t,n]);let o=a.useContext(Se);return a.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let Nt=4;function li({children:e,enabled:t=!0}){let[n,o]=a.useState(null),[r,i]=a.useState(0),l=a.useRef(null),[s,u]=a.useState(null);si(s);let f=t&&n!==null&&s!==null,{to:c="bottom",gap:m=0,offset:g=0,padding:d=0,inner:p}=ai(n,s),[v,b="center"]=c.split(" ");te(()=>{f&&i(0)},[f]);let{refs:y,floatingStyles:x,context:h}=Xr({open:f,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[Cn({mainAxis:v==="selection"?0:m,crossAxis:g}),Ir({padding:d}),v!=="selection"&&kr({padding:d}),v==="selection"&&p?Zr({...p,padding:d,overflowRef:l,offset:r,minItemsVisible:Nt,referenceOverflowThreshold:d,onFallbackChange(w){var N,B;if(!w)return;let I=h.elements.floating;if(!I)return;let G=parseFloat(getComputedStyle(I).scrollPaddingBottom)||0,k=Math.min(Nt,I.childElementCount),V=0,T=0;for(let M of(B=(N=h.elements.floating)==null?void 0:N.childNodes)!=null?B:[])if(M instanceof HTMLElement){let j=M.offsetTop,re=j+M.clientHeight+G,se=I.scrollTop,O=se+I.clientHeight;if(j>=se&&re<=O)k--;else{T=Math.max(0,Math.min(re,O)-Math.max(j,se)),V=M.clientHeight;break}}k>=1&&i(M=>{let j=V*k-T+G;return M>=j?M:j})}}):null,Hr({padding:d,apply({availableWidth:w,availableHeight:N,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${w}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${N}px)`})}})].filter(Boolean),whileElementsMounted:Cr}),[E=v,S=b]=h.placement.split("-");v==="selection"&&(E="selection");let $=a.useMemo(()=>({anchor:[E,S].filter(Boolean).join(" ")}),[E,S]),P=ei(h,{overflowRef:l,onChange:i}),{getReferenceProps:A,getFloatingProps:R}=Jr([P]),F=C(w=>{u(w),y.setFloating(w)});return a.createElement(yt.Provider,{value:o},a.createElement(Se.Provider,{value:{setFloating:F,setReference:y.setReference,styles:x,getReferenceProps:A,getFloatingProps:R,slot:$}},e))}function si(e){te(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function ai(e,t){var n,o,r;let i=rt((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=rt((o=e==null?void 0:e.offset)!=null?o:"var(--anchor-offset, 0)",t),s=rt((r=e==null?void 0:e.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:l,padding:s}}function rt(e,t,n=void 0){let o=Le(),r=C((u,f)=>{if(u==null)return[n,null];if(typeof u=="number")return[u,null];if(typeof u=="string"){if(!f)return[n,null];let c=Bt(u,f);return[c,m=>{let g=Pn(u);{let d=g.map(p=>window.getComputedStyle(f).getPropertyValue(p));o.requestAnimationFrame(function p(){o.nextFrame(p);let v=!1;for(let[y,x]of g.entries()){let h=window.getComputedStyle(f).getPropertyValue(x);if(d[y]!==h){d[y]=h,v=!0;break}}if(!v)return;let b=Bt(u,f);c!==b&&(m(b),c=b)})}return o.dispose}]}return[n,null]}),i=a.useMemo(()=>r(e,t)[0],[e,t]),[l=i,s]=a.useState();return te(()=>{let[u,f]=r(e,t);if(s(u),!!f)return f(s)},[e,t]),l}function Pn(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[o,...Pn(r)]:[o]}return[]}function Bt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function ui(e,t){let[n,o]=a.useState(t);return!e&&n!==t&&o(t),e?n:t}function ci(e){throw new Error("Unexpected object: "+e)}var _=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(_||{});function it(e,t){let n=t.resolveItems();if(n.length<=0)return null;let o=t.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 1:{r===-1&&(r=n.length);for(let i=r-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 2:{for(let i=r+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return o}case 5:return null;default:ci(e)}}function fi(e,t){let n=a.useRef({left:0,top:0});if(te(()=>{if(!t)return;let r=t.getBoundingClientRect();r&&(n.current=r)},[e,t]),t==null||!e||t===document.activeElement)return!1;let o=t.getBoundingClientRect();return o.top!==n.current.top||o.left!==n.current.left}let jt=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function _t(e){var t,n;let o=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return o;let i=!1;for(let s of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),i=!0;let l=i?(n=r.innerText)!=null?n:"":o;return jt.test(l)&&(l=l.replace(jt,"")),l}function di(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let o=n.split(" ").map(r=>{let i=document.getElementById(r);if(i){let l=i.getAttribute("aria-label");return typeof l=="string"?l.trim():_t(i).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return _t(e).trim()}function pi(e){let t=a.useRef(""),n=a.useRef("");return C(()=>{let o=e.current;if(!o)return"";let r=o.innerText;if(t.current===r)return n.current;let i=di(o).trim().toLowerCase();return t.current=r,n.current=i,i})}var mi=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mi||{}),gi=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(gi||{}),vi=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(vi||{}),hi=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e))(hi||{});function lt(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=io(t(e.options.slice()),i=>i.dataRef.current.domRef.current),r=n?o.indexOf(n):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let bi={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,o=e.options.findIndex(r=>n(r.dataRef.current.value));return o!==-1&&(t=o),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,o,r,i,l;if(e.dataRef.current.disabled||e.listboxState===1)return e;let s={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===_.Nothing)return{...s,activeOptionIndex:null};if(t.focus===_.Specific)return{...s,activeOptionIndex:e.options.findIndex(c=>c.id===t.id)};if(t.focus===_.Previous){let c=e.activeOptionIndex;if(c!==null){let m=e.options[c].dataRef.current.domRef,g=it(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(g!==null){let d=e.options[g].dataRef.current.domRef;if(((o=m.current)==null?void 0:o.previousElementSibling)===d.current||((r=d.current)==null?void 0:r.previousElementSibling)===null)return{...s,activeOptionIndex:g}}}}else if(t.focus===_.Next){let c=e.activeOptionIndex;if(c!==null){let m=e.options[c].dataRef.current.domRef,g=it(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(g!==null){let d=e.options[g].dataRef.current.domRef;if(((i=m.current)==null?void 0:i.nextElementSibling)===d.current||((l=d.current)==null?void 0:l.nextElementSibling)===null)return{...s,activeOptionIndex:g}}}}let u=lt(e),f=it(t,{resolveItems:()=>u.options,resolveActiveIndex:()=>u.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...s,...u,activeOptionIndex:f}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,o=e.searchQuery+t.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(l=>{var s;return!l.dataRef.current.disabled&&((s=l.dataRef.current.textValue)==null?void 0:s.startsWith(o))}),i=r?e.options.indexOf(r):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},o=lt(e,r=>[...r,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(n)),{...e,...o}},6:(e,t)=>{let n=lt(e,o=>{let r=o.findIndex(i=>i.id===t.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},wt=a.createContext(null);wt.displayName="ListboxActionsContext";function Qe(e){let t=a.useContext(wt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qe),n}return t}let Xe=a.createContext(null);Xe.displayName="ListboxDataContext";function Ie(e){let t=a.useContext(Xe);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ie),n}return t}function xi(e,t){return ge(t.type,bi,e,t)}let yi=a.Fragment;function wi(e,t){var n;let o=en(),{value:r,defaultValue:i,form:l,name:s,onChange:u,by:f,invalid:c=!1,disabled:m=o||!1,horizontal:g=!1,multiple:d=!1,__demoMode:p=!1,...v}=e;const b=g?"horizontal":"vertical";let y=xe(t),x=Lo(i),[h=d?[]:void 0,E]=Fo(r,u,x),[S,$]=a.useReducer(xi,{dataRef:a.createRef(),listboxState:p?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:p}),P=a.useRef({static:!1,hold:!1}),A=a.useRef(new Map),R=Ko(f),F=a.useCallback(D=>ge(w.mode,{1:()=>h.some(W=>R(W,D)),0:()=>R(h,D)}),[h]),w=a.useMemo(()=>({...S,value:h,disabled:m,invalid:c,mode:d?1:0,orientation:b,compare:R,isSelected:F,optionsPropsRef:P,listRef:A}),[h,m,c,d,S,A]);te(()=>{S.dataRef.current=w},[w]);let N=w.listboxState===0;Wn(N,[w.buttonElement,w.optionsElement],(D,W)=>{var Z;$({type:1}),no(W,oo.Loose)||(D.preventDefault(),(Z=w.buttonElement)==null||Z.focus())});let B=a.useMemo(()=>({open:w.listboxState===0,disabled:m,invalid:c,value:h}),[w,m,h,c]),I=C(D=>{let W=w.options.find(Z=>Z.id===D);W&&re(W.dataRef.current.value)}),G=C(()=>{if(w.activeOptionIndex!==null){let{dataRef:D,id:W}=w.options[w.activeOptionIndex];re(D.current.value),$({type:2,focus:_.Specific,id:W})}}),k=C(()=>$({type:0})),V=C(()=>$({type:1})),T=Le(),M=C((D,W,Z)=>{T.dispose(),T.microTask(()=>D===_.Specific?$({type:2,focus:_.Specific,id:W,trigger:Z}):$({type:2,focus:D,trigger:Z}))}),j=C((D,W)=>($({type:5,id:D,dataRef:W}),()=>$({type:6,id:D}))),re=C(D=>ge(w.mode,{0(){return E==null?void 0:E(D)},1(){let W=w.value.slice(),Z=W.findIndex(jn=>R(jn,D));return Z===-1?W.push(D):W.splice(Z,1),E==null?void 0:E(W)}})),se=C(D=>$({type:3,value:D})),O=C(()=>$({type:4})),q=C(D=>{$({type:7,element:D})}),pe=C(D=>{$({type:8,element:D})}),Je=a.useMemo(()=>({onChange:re,registerOption:j,goToOption:M,closeListbox:V,openListbox:k,selectActiveOption:G,selectOption:I,search:se,clearSearch:O,setButtonElement:q,setOptionsElement:pe}),[]),[In,kn]=Bo({inherit:!0}),Hn={ref:y},Nn=a.useCallback(()=>{if(x!==void 0)return E==null?void 0:E(x)},[E,x]),Bn=ye();return H.createElement(kn,{value:In,props:{htmlFor:(n=w.buttonElement)==null?void 0:n.id},slot:{open:w.listboxState===0,disabled:m}},H.createElement(li,null,H.createElement(wt.Provider,{value:Je},H.createElement(Xe.Provider,{value:w},H.createElement(Un,{value:ge(w.listboxState,{0:Be.Open,1:Be.Closed})},s!=null&&h!=null&&H.createElement(Do,{disabled:m,data:{[s]:h},form:l,onReset:Nn}),Bn({ourProps:Hn,theirProps:v,slot:B,defaultTag:yi,name:"Listbox"}))))))}let Ei="button";function Si(e,t){var n;let o=Ie("Listbox.Button"),r=Qe("Listbox.Button"),i=a.useId(),l=mn(),{id:s=l||`headlessui-listbox-button-${i}`,disabled:u=o.disabled||!1,autoFocus:f=!1,...c}=e,m=xe(t,ni(),r.setButtonElement),g=oi(),d=C(w=>{switch(w.key){case U.Enter:Po(w.currentTarget);break;case U.Space:case U.ArrowDown:w.preventDefault(),X.flushSync(()=>r.openListbox()),o.value||r.goToOption(_.First);break;case U.ArrowUp:w.preventDefault(),X.flushSync(()=>r.openListbox()),o.value||r.goToOption(_.Last);break}}),p=C(w=>{switch(w.key){case U.Space:w.preventDefault();break}}),v=C(w=>{var N;if(Ho(w.currentTarget))return w.preventDefault();o.listboxState===0?(X.flushSync(()=>r.closeListbox()),(N=o.buttonElement)==null||N.focus({preventScroll:!0})):(w.preventDefault(),r.openListbox())}),b=C(w=>w.preventDefault()),y=vn([s]),x=Kn(),{isFocusVisible:h,focusProps:E}=Ro({autoFocus:f}),{isHovered:S,hoverProps:$}=$o({isDisabled:u}),{pressed:P,pressProps:A}=Co({disabled:u}),R=a.useMemo(()=>({open:o.listboxState===0,active:P||o.listboxState===0,disabled:u,invalid:o.invalid,value:o.value,hover:S,focus:h,autofocus:f}),[o.listboxState,o.value,u,S,h,P,o.invalid,f]),F=tn(g(),{ref:m,id:s,type:Yo(e,o.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=o.optionsElement)==null?void 0:n.id,"aria-expanded":o.listboxState===0,"aria-labelledby":y,"aria-describedby":x,disabled:u||void 0,autoFocus:f,onKeyDown:d,onKeyUp:p,onKeyPress:b,onClick:v},E,$,A);return ye()({ourProps:F,theirProps:c,slot:R,defaultTag:Ei,name:"Listbox.Button"})}let Mn=a.createContext(!1),$i="div",Ri=St.RenderStrategy|St.Static;function Oi(e,t){var n,o;let r=a.useId(),{id:i=`headlessui-listbox-options-${r}`,anchor:l,portal:s=!1,modal:u=!0,transition:f=!1,...c}=e,m=ti(l),[g,d]=a.useState(null);m&&(s=!0);let p=Ie("Listbox.Options"),v=Qe("Listbox.Options"),b=zn(p.optionsElement),y=qn(),[x,h]=Yn(f,g,y!==null?(y&Be.Open)===Be.Open:p.listboxState===0);Gn(x,p.buttonElement,v.closeListbox);let E=p.__demoMode?!1:u&&p.listboxState===0;Qn(E,b);let S=p.__demoMode?!1:u&&p.listboxState===0;Xn(S,{allowed:a.useCallback(()=>[p.buttonElement,p.optionsElement],[p.buttonElement,p.optionsElement])});let $=p.listboxState!==0,P=fi($,p.buttonElement)?!1:x,A=x&&p.listboxState===1,R=ui(A,p.value),F=C(O=>p.compare(R,O)),w=a.useMemo(()=>{var O;if(m==null||!((O=m==null?void 0:m.to)!=null&&O.includes("selection")))return null;let q=p.options.findIndex(pe=>F(pe.dataRef.current.value));return q===-1&&(q=0),q},[m,p.options]),N=(()=>{if(m==null)return;if(w===null)return{...m,inner:void 0};let O=Array.from(p.listRef.current.values());return{...m,inner:{listRef:{current:O},index:w}}})(),[B,I]=ii(N),G=ri(),k=xe(t,m?B:null,v.setOptionsElement,d),V=Le();a.useEffect(()=>{var O;let q=p.optionsElement;q&&p.listboxState===0&&q!==((O=Xt(q))==null?void 0:O.activeElement)&&(q==null||q.focus({preventScroll:!0}))},[p.listboxState,p.optionsElement]);let T=C(O=>{var q,pe;switch(V.dispose(),O.key){case U.Space:if(p.searchQuery!=="")return O.preventDefault(),O.stopPropagation(),v.search(O.key);case U.Enter:if(O.preventDefault(),O.stopPropagation(),p.activeOptionIndex!==null){let{dataRef:Je}=p.options[p.activeOptionIndex];v.onChange(Je.current.value)}p.mode===0&&(X.flushSync(()=>v.closeListbox()),(q=p.buttonElement)==null||q.focus({preventScroll:!0}));break;case ge(p.orientation,{vertical:U.ArrowDown,horizontal:U.ArrowRight}):return O.preventDefault(),O.stopPropagation(),v.goToOption(_.Next);case ge(p.orientation,{vertical:U.ArrowUp,horizontal:U.ArrowLeft}):return O.preventDefault(),O.stopPropagation(),v.goToOption(_.Previous);case U.Home:case U.PageUp:return O.preventDefault(),O.stopPropagation(),v.goToOption(_.First);case U.End:case U.PageDown:return O.preventDefault(),O.stopPropagation(),v.goToOption(_.Last);case U.Escape:O.preventDefault(),O.stopPropagation(),X.flushSync(()=>v.closeListbox()),(pe=p.buttonElement)==null||pe.focus({preventScroll:!0});return;case U.Tab:O.preventDefault(),O.stopPropagation(),X.flushSync(()=>v.closeListbox()),ro(p.buttonElement,O.shiftKey?$t.Previous:$t.Next);break;default:O.key.length===1&&(v.search(O.key),V.setTimeout(()=>v.clearSearch(),350));break}}),M=(n=p.buttonElement)==null?void 0:n.id,j=a.useMemo(()=>({open:p.listboxState===0}),[p.listboxState]),re=tn(m?G():{},{id:i,ref:k,"aria-activedescendant":p.activeOptionIndex===null||(o=p.options[p.activeOptionIndex])==null?void 0:o.id,"aria-multiselectable":p.mode===1?!0:void 0,"aria-labelledby":M,"aria-orientation":p.orientation,onKeyDown:T,role:"listbox",tabIndex:p.listboxState===0?0:void 0,style:{...c.style,...I,"--button-width":qo(p.buttonElement,!0).width},...Jn(h)}),se=ye();return H.createElement(Zn,{enabled:s?e.static||x:!1},H.createElement(Xe.Provider,{value:p.mode===1?p:{...p,isSelected:F}},se({ourProps:re,theirProps:c,slot:j,defaultTag:$i,features:Ri,visible:P,name:"Listbox.Options"})))}let Ti="div";function Ci(e,t){let n=a.useId(),{id:o=`headlessui-listbox-option-${n}`,disabled:r=!1,value:i,...l}=e,s=a.useContext(Mn)===!0,u=Ie("Listbox.Option"),f=Qe("Listbox.Option"),c=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===o:!1,m=u.isSelected(i),g=a.useRef(null),d=pi(g),p=eo({disabled:r,value:i,domRef:g,get textValue(){return d()}}),v=xe(t,g,R=>{R?u.listRef.current.set(o,R):u.listRef.current.delete(o)});te(()=>{if(!u.__demoMode&&u.listboxState===0&&c&&u.activationTrigger!==0)return to().requestAnimationFrame(()=>{var R,F;(F=(R=g.current)==null?void 0:R.scrollIntoView)==null||F.call(R,{block:"nearest"})})},[g,c,u.__demoMode,u.listboxState,u.activationTrigger,u.activeOptionIndex]),te(()=>{if(!s)return f.registerOption(o,p)},[p,o,s]);let b=C(R=>{var F;if(r)return R.preventDefault();f.onChange(i),u.mode===0&&(X.flushSync(()=>f.closeListbox()),(F=u.buttonElement)==null||F.focus({preventScroll:!0}))}),y=C(()=>{if(r)return f.goToOption(_.Nothing);f.goToOption(_.Specific,o)}),x=Go(),h=C(R=>{x.update(R),!r&&(c||f.goToOption(_.Specific,o,0))}),E=C(R=>{x.wasMoved(R)&&(r||c||f.goToOption(_.Specific,o,0))}),S=C(R=>{x.wasMoved(R)&&(r||c&&f.goToOption(_.Nothing))}),$=a.useMemo(()=>({active:c,focus:c,selected:m,disabled:r,selectedOption:m&&s}),[c,m,r,s]),P=s?{}:{id:o,ref:v,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:b,onFocus:y,onPointerEnter:h,onMouseEnter:h,onPointerMove:E,onMouseMove:E,onPointerLeave:S,onMouseLeave:S},A=ye();return!m&&s?null:A({ourProps:P,theirProps:l,slot:$,defaultTag:Ti,name:"Listbox.Option"})}let Fi=a.Fragment;function Li(e,t){let{options:n,placeholder:o,...r}=e,i={ref:xe(t)},l=Ie("ListboxSelectedOption"),s=a.useMemo(()=>({}),[]),u=l.value===void 0||l.value===null||l.mode===1&&Array.isArray(l.value)&&l.value.length===0,f=ye();return H.createElement(Mn.Provider,{value:!0},f({ourProps:i,theirProps:{...r,children:H.createElement(H.Fragment,null,o&&u?o:n)},slot:s,defaultTag:Fi,name:"ListboxSelectedOption"}))}let Pi=be(wi),An=be(Si),Mi=Wo,Dn=be(Oi),mt=be(Ci),Ai=be(Li),Di=Object.assign(Pi,{Button:An,Label:Mi,Options:Dn,Option:mt,SelectedOption:Ai});function Ii({title:e,titleId:t,...n},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const ki=a.forwardRef(Ii);function Hi({title:e,titleId:t,...n},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const Ni=a.forwardRef(Hi);function Bi({title:e,titleId:t,...n},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const ji=a.forwardRef(Bi);function me(...e){return e.filter(Boolean).join(" ")}function ke({value:e,options:t,onChange:n,addNew:o,placeholder:r,multiple:i=!1}){const l=a.useMemo(()=>{const c=new Map;return t.forEach(m=>{c.set(m.id,m.text)}),c},[t]),s=a.useMemo(()=>{var c;if(i)if(Array.isArray(e)&&e.length>0){const m=[];return e.forEach(g=>{m.push(l.get(g))}),m.join()}else return"";else return((c=t.find(m=>m.id===e))==null?void 0:c.text)??""},[e,l]),u=c=>{c.stopPropagation(),o()},f=c=>{n&&(Array.isArray(c)?n(c.filter(m=>m!==null)):c!==null&&n(c))};return L.jsx(Di,{multiple:i,value:e,onChange:f,children:({open:c})=>L.jsx(L.Fragment,{children:L.jsxs("div",{className:"relative mt-2 w-full",children:[L.jsxs(An,{className:"relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm sm:leading-6",children:[L.jsxs("div",{className:"flex items-center h-6",children:[L.jsx("span",{className:"ml-3 block truncate peer",children:s}),L.jsx("span",{className:["pointer-events-none","absolute","start-2.5","top-0","-translate-y-1/2","bg-white","p-0.5","text-xs","text-gray-700","transition-all","peer-empty:top-4","peer-empty:text-sm","peer-focus:top-0","peer-focus:text-xs"].join(" "),children:r??""})]}),L.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2",children:L.jsx(Ni,{"aria-hidden":"true",className:"h-5 w-5 text-gray-400"})})]}),L.jsx(lo,{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",show:c,children:L.jsxs(Dn,{className:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:[t.map(m=>L.jsx(mt,{className:({focus:g})=>me(g?"bg-indigo-600 text-white":"",g?"":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"),value:m.id,children:({selected:g,focus:d})=>L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"flex items-center",children:L.jsx("span",{className:me(g?"font-semibold":"font-normal","ml-3 block truncate"),children:m.text})}),g?L.jsx("span",{className:me(d?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:L.jsx(ki,{"aria-hidden":"true",className:"h-5 w-5"})}):null]})},m.id)),o?L.jsx(mt,{className:({focus:m})=>me(m?"bg-indigo-600 text-white":"",m?"":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"),value:null,onClick:u,children:({focus:m})=>L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"flex items-center",children:L.jsx("span",{className:me("font-normal","ml-3 block truncate"),children:""})}),L.jsx("span",{className:me(m?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:L.jsx(ji,{"aria-hidden":"true",className:"h-5 w-5"})})]})}):null]})})]})})})}ke.__docgenInfo={description:"",methods:[],displayName:"Select",props:{value:{required:!0,tsType:{name:"union",raw:"number | number[]",elements:[{name:"number"},{name:"Array",elements:[{name:"number"}],raw:"number[]"}]},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: number | number[]) => void",signature:{arguments:[{type:{name:"union",raw:"number | number[]",elements:[{name:"number"},{name:"Array",elements:[{name:"number"}],raw:"number[]"}]},name:"value"}],return:{name:"void"}}},description:""},multiple:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},addNew:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""}}};const qi={component:ke},Et=[{id:1,text:"Option 1"},{id:2,text:"Option 2"},{id:3,text:"Option 3"},{id:4,text:"Option 4"}],$e=()=>{const[e,t]=a.useState(1);return L.jsx(ke,{options:Et,placeholder:"Select an option",value:e,onChange:n=>t(n)})},Re=()=>{const[e,t]=a.useState([1,2]);return L.jsx(ke,{multiple:!0,options:Et,placeholder:"Select multiple options",value:e,onChange:n=>t(n)})},Oe=()=>{const[e,t]=a.useState([]),[n,o]=a.useState(Et),r=()=>{const i={id:n.length+1,text:`Option ${n.length+1}`};o([...n,i])};return L.jsx(ke,{multiple:!0,addNew:r,options:n,placeholder:"Add new options",value:e,onChange:i=>t(i)})};$e.__docgenInfo={description:"",methods:[],displayName:"SingleSelect"};Re.__docgenInfo={description:"",methods:[],displayName:"MultiSelect"};Oe.__docgenInfo={description:"",methods:[],displayName:"WithAddNew"};var Vt,Wt,Ut;$e.parameters={...$e.parameters,docs:{...(Vt=$e.parameters)==null?void 0:Vt.docs,source:{originalSource:`() => {
  const [value, setValue] = useState<number>(1);
  return <Select options={options} placeholder="Select an option" value={value} onChange={newValue => setValue(newValue as number)} />;
}`,...(Ut=(Wt=$e.parameters)==null?void 0:Wt.docs)==null?void 0:Ut.source}}};var Kt,zt,qt;Re.parameters={...Re.parameters,docs:{...(Kt=Re.parameters)==null?void 0:Kt.docs,source:{originalSource:`() => {
  const [value, setValue] = useState<number[]>([1, 2]);
  return <Select multiple options={options} placeholder="Select multiple options" value={value} onChange={newValue => setValue(newValue as number[])} />;
}`,...(qt=(zt=Re.parameters)==null?void 0:zt.docs)==null?void 0:qt.source}}};var Yt,Gt,Qt;Oe.parameters={...Oe.parameters,docs:{...(Yt=Oe.parameters)==null?void 0:Yt.docs,source:{originalSource:`() => {
  const [value, setValue] = useState<number[]>([]);
  const [dynamicOptions, setDynamicOptions] = useState(options);
  const handleAddNew = () => {
    const newOption = {
      id: dynamicOptions.length + 1,
      text: \`Option \${dynamicOptions.length + 1}\`
    };
    setDynamicOptions([...dynamicOptions, newOption]);
  };
  return <Select multiple addNew={handleAddNew} options={dynamicOptions} placeholder="Add new options" value={value} onChange={newValue => setValue(newValue as number[])} />;
}`,...(Qt=(Gt=Oe.parameters)==null?void 0:Gt.docs)==null?void 0:Qt.source}}};const Yi=["SingleSelect","MultiSelect","WithAddNew"];export{Re as MultiSelect,$e as SingleSelect,Oe as WithAddNew,Yi as __namedExportsOrder,qi as default};
